visual c#

æ•´æ•¸è®Šæ•¸ï¼ˆInteger Variablesï¼‰
ğŸ”¹ å¸¸è¦‹å‹åˆ¥ï¼š
å‹åˆ¥	ä½å…ƒæ•¸				ç¯„åœ							èªªæ˜
byte	8					0 ~ 255							ç„¡ç¬¦è™Ÿæ•´æ•¸
sbyte	8					-128 ~ 127						æœ‰ç¬¦è™Ÿæ•´æ•¸
short	16					-32,768 ~ 32,767				æœ‰ç¬¦è™Ÿæ•´æ•¸
ushort	16					0 ~ 65,535						ç„¡ç¬¦è™Ÿæ•´æ•¸
int		32					-2,147,483,648 ~ 2,147,483,647	å¸¸ç”¨æ•´æ•¸å‹åˆ¥
uint	32					0 ~ 4,294,967,295				ç„¡ç¬¦è™Ÿæ•´æ•¸
long	64					ç´„ Â±9 Ã— 10Â¹â¸						æ›´å¤§æ•´æ•¸
ulong	64					0 ~ ç´„ 1.8 Ã— 10Â¹â¹				æ›´å¤§ç„¡ç¬¦è™Ÿæ•´æ•¸

æµ®é»æ•¸è®Šæ•¸ï¼ˆFloating-Point Variablesï¼‰
ğŸ”¹ å¸¸è¦‹å‹åˆ¥ï¼š
å‹åˆ¥	ä½å…ƒæ•¸			ç²¾åº¦			ç¯„åœ						èªªæ˜
float	32				~7 ä½æ•¸å­—		Â±1.5 Ã— 10â»â´âµ ~ Â±3.4 Ã— 10Â³â¸	å–®ç²¾åº¦æµ®é»æ•¸
double	64				~15-16 ä½æ•¸		Â±5.0 Ã— 10â»Â³Â²â´ ~ Â±1.7 Ã— 10Â³â°â¸	é›™ç²¾åº¦æµ®é»æ•¸ï¼ˆé è¨­ï¼‰
decimal	128				28-29 ä½æ•¸		Â±1.0 Ã— 10â»Â²â¸ ~ Â±7.9 Ã— 10Â²â¸	é«˜ç²¾åº¦ï¼ˆå¸¸ç”¨æ–¼è²¡å‹™ï¼‰

è¼¸å…¥è¼¸å‡ºæª¢æŸ¥

é …ç›®			try-catch						TryParse
éŒ¯èª¤è™•ç†æ–¹å¼	é€éä¾‹å¤–è™•ç†ï¼ˆExceptionï¼‰		å›å‚³ true/falseï¼Œç„¡ä¾‹å¤–
æ•ˆç‡			æ…¢ï¼ˆä¾‹å¤–è™•ç†æˆæœ¬é«˜ï¼‰			å¿«ï¼ˆæ•ˆèƒ½å¥½ï¼Œç„¡éœ€å»ºç«‹ä¾‹å¤–ï¼‰
æ˜¯å¦æ¨è–¦å¸¸ç”¨ï¼Ÿ	âŒ ä¸æ¨è–¦åšã€Œå¸¸è¦è¼¸å…¥é©—è­‰ã€		âœ… æ¨è–¦ç”¨ä¾†é©—è­‰ä½¿ç”¨è€…è¼¸å…¥
é©åˆå ´æ™¯		ä¸å¯é æ¸¬éŒ¯èª¤ã€è™•ç†ç•°å¸¸æµç¨‹		ä½¿ç”¨è€…è¼¸å…¥ã€æ‰¹é‡è³‡æ–™è™•ç†ã€æ•ˆèƒ½æ•æ„Ÿå ´æ™¯
è¼ƒæ–°æ‰‹å‹å¥½ï¼Ÿ	å®¹æ˜“å‡ºéŒ¯ã€ä¸å»ºè­°æ¿«ç”¨			çµæ§‹ç°¡å–®ï¼Œå®¹æ˜“ç¶­è­·

é¡å‹			æ–¹æ³• / æŠ€è¡“					ç”¨é€”ç¯„ä¾‹
å‘½ä»¤åˆ—è¼¸å…¥		Console.ReadLine()			å°å‹å·¥å…·ã€ç·´ç¿’ç¨‹å¼
GUI è¡¨å–®è¼¸å…¥	TextBox.Text				WinForms / WPF
ç¶²é è¡¨å–®è¼¸å…¥	HTML <form> + C# æ§åˆ¶å™¨		ASP.NET MVC / Razor
åƒæ•¸è¼¸å…¥		Main(string[] args)			å·¥å…·ç¨‹å¼ã€CLI å·¥å…·
æª”æ¡ˆè¼¸å…¥		File.ReadAllText()			è®€è¨­å®šã€åŒ¯å…¥è³‡æ–™
JSON/XML è¼¸å…¥	JsonSerializer / XmlReader	APIã€è¨­å®šã€æª”æ¡ˆ
è³‡æ–™åº«è¼¸å…¥		SQL + ADO.NET				ä¼æ¥­æ‡‰ç”¨

1. è¼¸å…¥ï¼ˆInputï¼‰è¦æ³¨æ„çš„ï¼š

è³‡æ–™é©—è­‰
	ä½¿ç”¨è€…è¼¸å…¥å¾€å¾€ä¸å¯é ï¼Œè¦é©—è­‰æ ¼å¼ï¼ˆæ•´æ•¸ã€å°æ•¸ã€æ—¥æœŸã€å­—ä¸²é•·åº¦ç­‰ï¼‰
	ç›¡é‡ç”¨ TryParse é€™é¡å®‰å…¨æ–¹æ³•é¿å…ä¾‹å¤–

è¼¸å…¥ç¯„åœé™åˆ¶
	æ•¸å­—è¦åœ¨åˆç†ç¯„åœå…§ï¼ˆä¾‹å¦‚ï¼šå¹´é½¡ 0120ï¼Œæˆç¸¾ 0100ï¼‰

éŒ¯èª¤æç¤º
	ç•¶è¼¸å…¥ä¸åˆæ³•ï¼Œçµ¦æ¸…æ¥šã€å‹å–„çš„éŒ¯èª¤è¨Šæ¯ï¼Œä¸¦å…è¨±é‡è¼¸

é˜²æ­¢ç©ºå€¼/Null
	é˜²æ­¢ç©ºè¼¸å…¥é€ æˆéŒ¯èª¤æˆ–ä¾‹å¤–

é¿å…æ³¨å…¥æ”»æ“Šï¼ˆé‡å°ç¶²é æˆ–è³‡æ–™åº«è¼¸å…¥ï¼‰
	ä¾‹å¦‚ SQL Injectionã€XSS æ”»æ“Š

è¼¸å…¥æ ¼å¼ä¸€è‡´æ€§
	æ—¥æœŸã€æ™‚é–“ã€æ•¸å­—æ ¼å¼è¦æ˜ç¢ºæŒ‡å®š

2. è™•ç†ï¼ˆProcessingï¼‰è¦æ³¨æ„çš„ï¼š

é‚è¼¯æ­£ç¢º
	ç¢ºä¿è™•ç†æµç¨‹ç¬¦åˆæ¥­å‹™è¦å‰‡

ä¾‹å¤–è™•ç†
	å¯èƒ½æœ‰çš„éŒ¯èª¤ç‹€æ³ï¼ˆæª”æ¡ˆè®€å–å¤±æ•—ã€ç¶²è·¯æ–·ç·šï¼‰ç”¨ try-catch è™•ç†ï¼Œé˜²æ­¢ç¨‹å¼å´©æ½°

è³‡æ–™å‹åˆ¥è½‰æ›
	æ³¨æ„è½‰æ›ç²¾åº¦èˆ‡æº¢ä½ï¼Œé¿å…è³‡æ–™éŒ¯èª¤

æ•ˆèƒ½è€ƒé‡
	å¤§é‡è³‡æ–™è™•ç†æ™‚é¿å…ä¸å¿…è¦é‡è¤‡è¨ˆç®—æˆ–I/O

é‚è¼¯æ¸…æ™°ã€æ˜“ç¶­è­·
	æ‹†æˆå‡½å¼/æ–¹æ³•ï¼Œæé«˜å¯è®€æ€§å’Œé‡ç”¨æ€§

å®‰å…¨æ€§
	è™•ç†æ•æ„Ÿè³‡æ–™æ™‚æ³¨æ„åŠ å¯†ã€é©—è­‰ã€æ¬Šé™æ§ç®¡

3. è¼¸å‡ºï¼ˆOutputï¼‰è¦æ³¨æ„çš„ï¼š

æ ¼å¼åŒ–è¼¸å‡º
	è¼¸å‡ºæ™‚æ•¸å­—ã€æ—¥æœŸæ ¼å¼æ‡‰æ˜“æ‡‚ä¸”ç¬¦åˆä½¿ç”¨è€…ç¿’æ…£

é¿å…è³‡è¨Šå¤–æ´©
	ä¸è¦è¼¸å‡ºæ•æ„Ÿè³‡æ–™ï¼ˆå¯†ç¢¼ã€å€‹è³‡ç­‰ï¼‰

éŒ¯èª¤è¨Šæ¯å‹å–„
	ä¸ç›´æ¥æš´éœ²ç³»çµ±éŒ¯èª¤ç´°ç¯€ï¼Œé¿å…æ”»æ“Šè€…åˆ©ç”¨

ä½¿ç”¨è€…é«”é©—
	è¼¸å‡ºçµæœæ‡‰æ¸…æ¥šæ˜ç¢ºï¼Œå¿…è¦æ™‚å¯æä¾›æ“ä½œå»ºè­°æˆ–ä¸‹ä¸€æ­¥

è¨˜éŒ„æ—¥èªŒ
	é‡è¦æ“ä½œå’ŒéŒ¯èª¤æœ€å¥½æœ‰ç´€éŒ„ï¼ˆlogï¼‰ä»¥åˆ©è¿½è¹¤
	
ç°¡å–®çš„æµç¨‹
 using System;

class Program
{
    static void Main()
    {
        int age;

        while (true)
        {
            Console.Write("è«‹è¼¸å…¥å¹´é½¡ï¼ˆ0~120ï¼‰ï¼š");
            string input = Console.ReadLine();

            if (!int.TryParse(input, out age))
            {
                Console.WriteLine("éŒ¯èª¤ï¼šè«‹è¼¸å…¥æœ‰æ•ˆçš„æ•´æ•¸ï¼");
                continue;
            }

            if (age < 0 || age > 120)
            {
                Console.WriteLine("éŒ¯èª¤ï¼šå¹´é½¡å¿…é ˆåœ¨ 0 åˆ° 120 ä¹‹é–“ï¼");
                continue;
            }

            break;  // è¼¸å…¥æ­£ç¢ºï¼Œè·³å‡ºè¿´åœˆ
        }

        // è™•ç†
        string category = age < 18 ? "æœªæˆå¹´" : "æˆäºº";

        // è¼¸å‡º
        Console.WriteLine($"ä½ çš„å¹´é½¡æ˜¯ {age}ï¼Œåˆ†é¡ç‚ºï¼š{category}");
    }
}

1. è®€å¯«æª”æ¡ˆï¼ˆFile I/Oï¼‰
æ³¨æ„äº‹é …ï¼š

è®€å–

æª”æ¡ˆæ˜¯å¦å­˜åœ¨ï¼šä½¿ç”¨å‰å…ˆæª¢æŸ¥æª”æ¡ˆå­˜åœ¨æ€§ï¼Œé¿å…ä¾‹å¤–
æª”æ¡ˆå­˜å–æ¬Šé™ï¼šç¢ºä¿ç¨‹å¼æœ‰æ¬Šé™è®€å¯«
è³‡æ–™æ ¼å¼ï¼šè®€å–æ™‚ç¢ºèªæ ¼å¼èˆ‡ç·¨ç¢¼ï¼ˆUTF-8ã€ASCII ç­‰ï¼‰
ä¾‹å¤–è™•ç†ï¼šæ•æ‰ IOExceptionã€FileNotFoundException ç­‰
æª”æ¡ˆé–å®šå•é¡Œï¼šé¿å…åŒæ™‚å¤šé‡å­˜å–é€ æˆè¡çª

å¯«å…¥

å¯«å…¥æ–¹å¼ï¼šè¦†å¯«æˆ–é™„åŠ ï¼ˆFile.WriteAllText vs File.AppendAllTextï¼‰
åŒæ­¥/éåŒæ­¥ï¼šå¤§é‡è³‡æ–™å»ºè­°ä½¿ç”¨éåŒæ­¥å¯«å…¥é¿å…é˜»å¡
ç¢ºä¿è³‡æ–™å®Œæ•´æ€§ï¼šå¯«å…¥æ™‚å¯å…ˆå¯«å…¥æš«å­˜æª”ï¼Œå†æ”¹åé¿å…è³‡æ–™éºå¤±
ä¾‹å¤–è™•ç†

ç°¡å–®ç¯„ä¾‹ï¼š

using System;
using System.IO;

class Program
{
    static void Main()
    {
        string path = "data.txt";

        try
        {
            // è®€æª”
            if (File.Exists(path))
            {
                string content = File.ReadAllText(path);
                Console.WriteLine("æª”æ¡ˆå…§å®¹ï¼š\n" + content);
            }
            else
            {
                Console.WriteLine("æª”æ¡ˆä¸å­˜åœ¨ï¼");
            }

            // å¯«æª”
            File.WriteAllText(path, "Hello, world!");
            Console.WriteLine("å·²å¯«å…¥æª”æ¡ˆã€‚");
        }
        catch (IOException ex)
        {
            Console.WriteLine("æª”æ¡ˆæ“ä½œéŒ¯èª¤ï¼š" + ex.Message);
        }
    }
}

2. è³‡æ–™åº«å­˜å–ï¼ˆDatabase Accessï¼‰

æ³¨æ„äº‹é …ï¼š

é€£ç·šå­—ä¸²å®‰å…¨ï¼šé¿å…ç¡¬ç·¨ç¢¼ï¼Œå»ºè­°ä½¿ç”¨åŠ å¯†è¨­å®šæˆ–å®‰å…¨å„²å­˜
é€£ç·šç®¡ç†ï¼šä½¿ç”¨ using è‡ªå‹•é—œé–‰é€£ç·šï¼Œé¿å…é€£ç·šæ³„æ¼
SQL æ³¨å…¥é˜²ç¯„ï¼šä½¿ç”¨åƒæ•¸åŒ–æŸ¥è©¢æˆ– ORMï¼ˆä¾‹å¦‚ Entity Frameworkï¼‰
éŒ¯èª¤è™•ç†ï¼šæ•æ‰è³‡æ–™åº«é€£ç·šã€æŸ¥è©¢ç•°å¸¸
æ•ˆèƒ½è€ƒé‡ï¼šé¿å…ä¸å¿…è¦çš„æŸ¥è©¢ï¼Œå¤šç”¨ç´¢å¼•èˆ‡æœ€ä½³åŒ– SQL
äº¤æ˜“ç®¡ç†ï¼ˆTransactionï¼‰ï¼šç¢ºä¿å¤šç­†æ“ä½œçš„ä¸€è‡´æ€§

using System;
using System.Data.SqlClient;

class Program
{
    static void Main()
    {
        string connStr = "Server=.;Database=TestDB;Trusted_Connection=True;";
        string sql = "SELECT Name FROM Users WHERE Id = @id";

        try
        {
            using (SqlConnection conn = new SqlConnection(connStr))
            {
                conn.Open();
                using (SqlCommand cmd = new SqlCommand(sql, conn))
                {
                    cmd.Parameters.AddWithValue("@id", 1);
                    var name = cmd.ExecuteScalar() as string;
                    Console.WriteLine("ä½¿ç”¨è€…åç¨±ï¼š" + name);
                }
            }
        }
        catch (Exception ex)
        {
            Console.WriteLine("è³‡æ–™åº«éŒ¯èª¤ï¼š" + ex.Message);
        }
    }
}


3. API å‘¼å«ï¼ˆWeb API å­˜å–ï¼‰
æ³¨æ„äº‹é …ï¼š

éåŒæ­¥å‘¼å«ï¼šä½¿ç”¨ async / await é€²è¡ŒéåŒæ­¥è™•ç†
éŒ¯èª¤è™•ç†ï¼šæª¢æŸ¥ HTTP ç‹€æ…‹ç¢¼ï¼Œè™•ç†é€£ç·šå¤±æ•—æˆ–éŒ¯èª¤å›æ‡‰
è³‡æ–™æ ¼å¼ï¼šJSON / XML æ ¼å¼è§£æï¼ˆä½¿ç”¨ System.Text.Json æˆ– Newtonsoft.Jsonï¼‰
æˆæ¬Šé©—è­‰ï¼šAPI Keyã€OAuth ç­‰å®‰å…¨æ§ç®¡
é‡è©¦æ©Ÿåˆ¶ï¼šç¶²è·¯ä¸ç©©å®šæ™‚å»ºè­°é‡è©¦æ©Ÿåˆ¶
è¶…æ™‚è¨­å®šï¼šé¿å…ç„¡é™ç­‰å¾…å›æ‡‰

using System;
using System.Net.Http;
using System.Text.Json;
using System.Threading.Tasks;

class Program
{
    static async Task Main()
    {
        string url = "https://jsonplaceholder.typicode.com/todos/1";

        using HttpClient client = new HttpClient();

        try
        {
            HttpResponseMessage response = await client.GetAsync(url);
            response.EnsureSuccessStatusCode();

            string json = await response.Content.ReadAsStringAsync();

            var todo = JsonSerializer.Deserialize<Todo>(json);

            Console.WriteLine($"æ¨™é¡Œï¼š{todo.Title}, å®Œæˆï¼š{todo.Completed}");
        }
        catch (HttpRequestException e)
        {
            Console.WriteLine("API å‘¼å«å¤±æ•—ï¼š" + e.Message);
        }
    }
}

public class Todo
{
    public int UserId { get; set; }
    public int Id { get; set; }
    public string Title { get; set; }
    public bool Completed { get; set; }
}

æ ¼å¼é¡å‹	è®€å–æ–¹æ³•									ç·¨ç¢¼è¨­å®š				ç‰¹æ®Šæ³¨æ„é»
ç´”æ–‡å­—æª”	File.ReadAllText							å¯æŒ‡å®š Encoding			æ›è¡Œç¬¦ã€Unicode BOM


File.WriteAllText("file.txt", content, Encoding.UTF8);
string text = File.ReadAllText("file.txt", Encoding.UTF8);


äºŒé€²ä½æª”	FileStream, BinaryReader					ç„¡						çŸ¥é“è³‡æ–™çµæ§‹

using (FileStream fs = new FileStream("data.bin", FileMode.Create))
using (BinaryWriter writer = new BinaryWriter(fs))
{
    writer.Write(123);          // å¯«å…¥ int
    writer.Write("hello");      // å¯«å…¥å­—ä¸²
}


CSV			è®€æ–‡å­—æª”ä¸¦ Split(',')						åŒç´”æ–‡å­—æª”				è½‰ç¾©é›™å¼•è™Ÿèˆ‡é€—è™Ÿ

string[] lines = File.ReadAllLines("data.csv");
foreach (var line in lines)
{
    string[] fields = line.Split(',');
    // è™•ç† fields
}

JSON		System.Text.Json æˆ– Newtonsoft.Json			UTF-8 å¸¸ç”¨				çµæ§‹åŒ–ç‰©ä»¶

var obj = new { Name = "John", Age = 30 };
string jsonString = JsonSerializer.Serialize(obj);
File.WriteAllText("data.json", jsonString);

string readJson = File.ReadAllText("data.json");
var obj2 = JsonSerializer.Deserialize<YourClass>(readJson);

XML			XmlSerializer, XmlReader					UTF-8/Unicode			æ¨™è¨˜å¼çµæ§‹

XmlSerializer serializer = new XmlSerializer(typeof(YourClass));
using (FileStream fs = new FileStream("data.xml", FileMode.Create))
{
    serializer.Serialize(fs, yourObject);
}

using (FileStream fs = new FileStream("data.xml", FileMode.Open))
{
    YourClass obj = (YourClass)serializer.Deserialize(fs);
}

INI			è‡ªè¡Œè§£ææˆ–ç¬¬ä¸‰æ–¹åº«							åŒç´”æ–‡å­—æª”				å€æ®µèˆ‡éµå€¼å°





